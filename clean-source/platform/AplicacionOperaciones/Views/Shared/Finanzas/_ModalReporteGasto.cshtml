<div class="modal fade" id="modalReporteGasto" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title family-teamwork">Descargar Reporte <b>GASTOS</b> <i class="tipoAnulacion" style="font-style: normal;"></i></h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                        <p class="family-teamwork">
                            En el siguiente reporte podra descargar un reporte de los gastos entre un periodo determinado.
                        </p>
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 errorModal">
                    </div>
                    <div class="col-3 col-sm-3 col-md-3 col-lg-3">
                        <select class="family-teamwork form-control" id="selectEmpresaNC">
                            <option value="0">Indicar Empresa</option>
                            <option value="1">Servicios Transitorios</option>
                            <option value="2">Recursos Humanos</option>
                            <option value="3">Consultora</option>
                            <option value="4">Capacitación</option>
                        </select>
                    </div>

                    <div class="col-3 col-sm-3 col-md-3 col-lg-3">


                        <input type="text" class="family-teamwork datepicker form-control" id="finicio" placeholder="Inicio" required name="periodoparam" autocomplete="off" style="background-color: #fff;" readonly />
                    </div>
                    <div class="col-3 col-sm-3 col-md-3 col-lg-3">
                        <input type="text" class="family-teamwork datepicker form-control" id="ftermino" placeholder="Termino" required name="periodoparam" autocomplete="off" style="background-color: #fff;" readonly />
                    </div>

                    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                        <br />
                    </div>
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                        <a id="GenerarReportGasto" href="#" class="btn btn-teamwork" data-aplicativo="@ViewBag.RenderizadoAplicacion"
                           style="border-radius: 25px; height: 40px; color: #fff; float:right">
                            <span style="display: inline-block; margin-top: -11px;">
                                <i style="font-family: 'Open Sans Condensed', sans-serif;
                        font-size: 14px; font-style: normal; display: block; margin-bottom: -8px;">Descargar Archivo</i>

                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>


    ///finanzas/GenerateExcel?excel=ReporteGastos&fechaIni=08-2019&fechaTerm=12-2019&empresa=1

    $(function () {
        $(".datepicker").datepicker();
        $(".datepicker").datepicker("option", "dateFormat", 'mm-yy');


    });

    $("#GenerarReportGasto").on("click", function (e) {
        e.preventDefault();

        var empresa = $("#selectEmpresaNC").val();
        var finicio = $("#finicio").val();
        var ftermino = $("#ftermino").val();
        var domain = $(this).attr("data-aplicativo");
         
        

        if (empresa !== "0" && finicio !== "" && ftermino !== "") {

            window.location.href = domain + "/finanzas/GenerateExcel?excel=ReporteGastos&fechaIni=" + finicio + "&fechaTerm=" + ftermino + "&empresa=" + empresa;

        }


      

    });





</script>